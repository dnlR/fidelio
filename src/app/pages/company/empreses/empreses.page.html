<ion-header>
  <ion-toolbar>
    <ion-title *ngIf="profileEmpresa">Empresa> Gestión de Empresas - {{profileEmpresa.name}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngIf="empresaForm">
  <form [formGroup]="empresaForm" (ngSubmit)="onSubmit()">
   <ion-item> 
     <ion-label position="floating">Nombre</ion-label>
     <ion-input clearInput="true" formControlName="EmpresaNom"></ion-input>
   </ion-item>
   <ion-item> 
    <ion-label position="floating">NIF</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaNIF"></ion-input>
  </ion-item>
  <ion-item> 
    <ion-label position="floating">EMAIL</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaEmail"></ion-input>
    <ion-note slot="error">Email invalid</ion-note>
  </ion-item>  
  <ion-item> 
    <ion-label position="floating">Telefono</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaTelefon"></ion-input>
  </ion-item>
  <ion-item> 
    <ion-label position="floating">Direccion</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaAdreca"></ion-input>
  </ion-item>
  
  <mat-form-field class="example-full-width" [style.width.%]="100">
    <mat-label>Codigo Postal</mat-label>  
  <!-- <ion-item> 
    <ion-label position="floating">Codi Postal</ion-label> -->
    <!-- <input matInput clearInput="true" formControlName="EmpresaCP" (focus)="ZIPonFocus($event)" (blur)="getCP($event)" [matAutocomplete]="auto"/> -->
    <input matInput clearInput="true" size="100" formControlName="EmpresaCP" [matAutocomplete]="auto"/>
   <!-- </ion-item>  -->
    <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" (optionSelected)="getOptionSelected($event)">
      <mat-option *ngFor="let option of filteredOptions | async" [value]="option.zip_id">
        {{option.zip_id}};{{option.zip_city}};{{option.zip_region}};{{option.zip_country}}
      </mat-option>
    </mat-autocomplete>
  </mat-form-field>
  <!-- <ion-item> 
    <ion-label position="floating">Codi Postal</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaCP" (ionFocus)="onFocus($event)" (ionBlur)=getCP($event)></ion-input>
  </ion-item>   -->
  <!-- <ion-list>
    <ion-item *ngFor="let result of options">
      <ion-label>{{ result }}</ion-label>
    </ion-item>
  </ion-list>   -->
  <ion-item> 
    <ion-label position="floating">Población</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaPoblacio"></ion-input>
  </ion-item>    
  <ion-item> 
    <ion-label position="floating">Provincia</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaProvincia"></ion-input>
  </ion-item>    
  <ion-item> 
    <ion-label position="floating">Pais</ion-label>
    <ion-input clearInput="true" formControlName="EmpresaPais"></ion-input>
  </ion-item>
  <ion-item>
    <ion-label position="floating">Logo</ion-label>
    <ion-thumbnail slot="end">
      <img *ngIf="profileEmpresa.logo" alt="Selecciona una imatge" formControlNmae="EmpresaLogo" src={{profileEmpresa.logo}}/>
    </ion-thumbnail>
    <br><br><br>
    <!-- <ion-img *ngIf="profileEmpresa.logo" width="80" height="40" formControlNmae="EmpresaLogo" src={{profileEmpresa.logo}}></ion-img> -->
    <ion-icon name="cloud-upload-outline" (click)="addLogo()"></ion-icon>
    <ion-icon name="close-circle-outline" (click)="removeLogo()"></ion-icon>
  </ion-item>
   <ion-button expand="block" type="submit" [disabled]="!empresaForm.valid">Guardar</ion-button>
</form>
<ion-button expand="block" (click)="goBack()">Cancelar</ion-button>
<!-- <p>Form Status: {{ empresaForm.status }}</p> -->

